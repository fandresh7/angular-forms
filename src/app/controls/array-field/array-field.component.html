<fieldset>
  <legend>{{ control().label }}</legend>

  <div [formArrayName]="control().name">
    @for (group of formControl.controls; track group; let i = $index) {
      <div [formGroupName]="i">
        @for (ctrl of control().controls; track ctrl.name) {
          <ng-container
            [ngComponentOutlet]="controlResolver.resolve(ctrl) | async"
            [ngComponentOutletInjector]="ctrl.name | controlInjector: { control: ctrl, initialValues: getControlValue(i) }">
          </ng-container>
        }
        <button
          type="button"
          (click)="removeItem(i)">
          Eliminar
        </button>
      </div>
    }
  </div>

  <button
    type="button"
    (click)="addItem()">
    Agregar Ã­tem
  </button>
</fieldset>

<div
  helpText
  [message]="control().helpText"></div>
