<label [attr.for]="control().name">
  {{ control().label }}
</label>

<div class="chips-container">
  @for (chip of formControl.value; track $index) {
    <div class="chip">
      {{ chip }}
      <button
        type="button"
        (click)="removeChip(chip)">
        x
      </button>
    </div>
  }

  <input
    [id]="control().name"
    [name]="control().name"
    [placeholder]="control().placeholder ?? ''"
    [value]="inputValue()"
    (input)="inputValue.set($any($event.target).value)"
    (keydown.enter)="$event.preventDefault(); addChip()"
    aria-label="Add new chip" />
  <button
    type="button"
    aria-label="Add chip"
    (click)="addChip()">
    Add
  </button>
</div>

<div class="validation-feedback">
  <ng-container
    ngDefaultControl
    validatorMessage
    [helpMessage]="control().helpText"
    [formControl]="formControl">
  </ng-container>
</div>
